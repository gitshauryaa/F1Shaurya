<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>f1shaurya | Terminal Weather</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
  body {
    margin:0;
    background:#000;
    color:#00ff00;
    font-family:'JetBrains Mono', monospace;
    padding:20px;
  }
  #terminal {
    white-space: pre-wrap;
    line-height:1.4em;
  }
  input {
    background:transparent;
    border:none;
    color:#00ff00;
    font-family:'JetBrains Mono', monospace;
    outline:none;
    width:90%;
  }
  .cursor {
    display:inline-block;
    width:10px;
    background:#00ff00;
    animation:blink 1s step-start infinite;
    margin-left:2px;
  }
  @keyframes blink {
    50%{opacity:0;}
  }
  .log-entry{
    margin:4px 0;
  }
</style>
</head>
<body>

<div id="terminal">
F1SHAURYA TERMINAL WEATHER v1.0
> Type city name to get weather
>_
</div>

<script>
const terminal = document.getElementById('terminal');
let inputActive = true;

// Replace with your OpenWeatherMap API key
const API_KEY = '708a26a046a82ce68f439dccbf3f8a71';

function appendLog(text){
  const div = document.createElement('div');
  div.className = 'log-entry';
  div.textContent = text;
  terminal.insertBefore(div, inputLine);
  terminal.scrollTop = terminal.scrollHeight;
}

// Input line
const inputLine = document.createElement('div');
inputLine.innerHTML = '> <input id="cityInput" autocomplete="off" autofocus> <span class="cursor"></span>';
terminal.appendChild(inputLine);
const input = document.getElementById('cityInput');

// Handle enter key
input.addEventListener('keydown', async e=>{
  if(e.key === 'Enter'){
    const city = input.value.trim();
    if(!city) return;
    appendLog(`> ${city}`);
    input.value = '';
    fetchWeather(city);
  }
});

async function fetchWeather(city){
  appendLog('Fetching weather...');
  try {
    const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&appid=${API_KEY}&units=metric`);
    const data = await res.json();
    if(data.cod !== 200){
      appendLog(`Error: ${data.message}`);
      return;
    }
    const weather = data.weather[0].main;
    const temp = data.main.temp;
    const humidity = data.main.humidity;
    const wind = data.wind.speed;

    let icon='';
    switch(weather.toLowerCase()){
      case 'clear': icon='â˜€ï¸'; break;
      case 'clouds': icon='â˜ï¸'; break;
      case 'rain': icon='ğŸŒ§ï¸'; break;
      case 'snow': icon='â„ï¸'; break;
      case 'thunderstorm': icon='âš¡'; break;
      default: icon='ğŸŒ«ï¸';
    }

    appendLog(`${icon} Weather: ${weather}`);
    appendLog(`ğŸŒ¡ï¸ Temp: ${temp}Â°C`);
    appendLog(`ğŸ’§ Humidity: ${humidity}%`);
    appendLog(`ğŸ’¨ Wind: ${wind} m/s`);
  } catch(err){
    appendLog('Error fetching weather.');
  }
}
</script>

</body>
</html>
